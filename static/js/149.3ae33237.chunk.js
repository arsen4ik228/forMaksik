"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[149],{1268:(e,t,a)=>{a.d(t,{A:()=>l});a(5043);const i={editText:"BottomHeaders_editText__BUuuG"},r={wrapper:"ButtonAction_wrapper__S7EYo"};var c=a(3732),n=a(4530),s=a(9307),o=a(579);function d(e){let{create:t,update:a}=e;return(0,o.jsxs)("div",{className:r.wrapper,children:[t&&(0,o.jsx)(s.A,{name:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c",icon:c.A,onClick:t}),a&&(0,o.jsx)(s.A,{name:"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:n.A,onClick:a})]})}function l(e){let{children:t,create:a,update:r}=e;return(0,o.jsxs)("div",{className:i.editText,children:[t,(0,o.jsx)(d,{create:a,update:r})]})}},1818:(e,t,a)=>{a.d(t,{A:()=>c});a(5043);const i={textArea:"TextArea_textArea__W74x1",textColor:"TextArea_textColor__B5yhy"};var r=a(579);function c(e){let{value:t,onChange:a,readOnly:c}=e;return(0,r.jsx)("textarea",{className:`${i.textArea} ${c?i.textColor:""}`,value:t,onChange:e=>a(e.target.value),disabled:c})}},6451:(e,t,a)=>{a.d(t,{A:()=>c});a(5043);const i={item:"SelectBorder_item__DiOvO",select:"SelectBorder_select__1QGX7","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439":"SelectBorder_\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439__LTOt8","\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a":"SelectBorder_\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a__fMOp0","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e":"SelectBorder_\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e__buugC"};var r=a(579);function c(e){let{value:t,onChange:a,array:c,array1:n,arrayItem:s,prefix:o,styleSelected:d}=e;return(0,r.jsx)("div",{className:i.item,children:(0,r.jsxs)("select",{name:"mySelect",value:t,onChange:e=>{a(e.target.value)},className:`${i.select} ${i[d]}`,children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e"}),null===c||void 0===c?void 0:c.map((e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("option",{value:e.id,className:i[e.state],children:[o,e[s]]},e.id)}))),null===n||void 0===n?void 0:n.map((e=>(0,r.jsxs)("option",{value:e.id,className:i[e.state],children:[o,e[s]]},e.id)))]})})}},7214:(e,t,a)=>{a.d(t,{A:()=>c});a(5043);const i={wave:"WaveLetters_wave__2Gves"};var r=a(579);function c(e){let{letters:t}=e;const a=t.split("");return(0,r.jsx)("div",{className:i.wave,children:null===a||void 0===a?void 0:a.map(((e,t)=>(0,r.jsx)("span",{style:{"--i":t+1},children:" "===e?"\xa0\xa0":e},t)))})}},8149:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var i=a(5043);const r={dialog:"Objective_dialog__AGsZy",header:"Objective_header__CwqH2",fon:"Objective_fon__IHEX0",pomoshnikSearch:"Objective_pomoshnikSearch__n+8mY",pomoshnik:"Objective_pomoshnik__sapCt",iconBack:"Objective_iconBack__8q8he",search:"Objective_search__Bh658",spanPomoshnik:"Objective_spanPomoshnik__y01xr",editText:"Objective_editText__C2X+e",one:"Objective_one__pBzSk",two:"Objective_two__3V81z",three:"Objective_three__aW0R0",blockSelect:"Objective_blockSelect__srgvk",option:"Objective_option__ep3vm",date:"Objective_date__zCYXt",image:"Objective_image__HulAZ",main:"Objective_main__MdAhZ",editorContainer:"Objective_editorContainer__Wu4S0",deleteIcon:"Objective_deleteIcon__v66op",iconAdd:"Objective_iconAdd__23qSh",iconSave:"Objective_iconSave__W5qtA",Teaxtaera:"Objective_Teaxtaera__NpKzL",add:"Objective_add__gSb0u",nameButton:"Objective_nameButton__729Uq",text:"Objective_text__hBYIL",selectHeader:"Objective_selectHeader__ijB6q",textSelectHeader:"Objective_textSelectHeader__i6Y9X",textSelectHeaderSpan:"Objective_textSelectHeaderSpan__KHO+H",active:"Objective_active__BJlg2",activeTextSelectHeader:"Objective_activeTextSelectHeader__EILz8",select:"Objective_select__6UvrW",activeSelect:"Objective_activeSelect__u1dA5",completed:"Objective_completed__W6+iq",draft:"Objective_draft__sHPg3"};var c=a(8139),n=a.n(c),s=a(6537),o=a(71),d=a(7214),l=a(1818),_=a(7643),v=a(1268),u=a(6451),j=a(8877),x=a(579);function h(){var e,t,a,c,h;const[m,p]=(0,i.useState)(0),[b,O]=(0,i.useState)(""),[S,g]=(0,i.useState)([]),[A,C]=(0,i.useState)([]),[y,f]=(0,i.useState)([]),[k,H]=(0,i.useState)(""),{currentObjective:B,isLoadingGetObjectiveId:N,isErrorGetObjectiveId:w,isFetchingGetObjectiveId:E,updateObjective:T,isLoadingUpdateObjectiveMutation:I,isSuccessUpdateObjectiveMutation:L,isErrorUpdateObjectiveMutation:F,errorUpdateObjectiveMutation:G,localIsResponseUpdateObjectiveMutation:U}=(0,j.EZ)(b),{activeAndDraftStrategies:q,archiveStrategies:M,isLoadingStrategies:W,isErrorStrategies:z}=(0,j.Od)(),X=(e,t,a)=>{switch(a){case"content":g((a=>{const i=[...a];return i[e]=t,i}));break;case"situation":C((a=>{const i=[...a];return i[e]=t,i}));break;case"rootCause":f((a=>{const i=[...a];return i[e]=t,i}))}};return(0,i.useEffect)((()=>{Array.isArray(B.content)&&g(B.content),Array.isArray(B.situation)&&C(B.situation),Array.isArray(B.rootCause)&&f(B.rootCause)}),[B]),(0,i.useEffect)((()=>{const e=[...M,...q].find((e=>e.id===b));H(null===e||void 0===e?void 0:e.state)}),[b]),(0,x.jsxs)("div",{className:r.dialog,children:[(0,x.jsxs)(_.A,{name:"\u041a\u0440\u0430\u0442\u043a\u043e\u0441\u0440\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043b\u044c",speedGoal:"speedGoal",children:[(0,x.jsx)("div",{className:r.selectHeader,children:["\u041a\u0420\u0410\u0422\u041a\u041e\u0421\u0420\u041e\u0427\u0410\u042f \u0426\u0415\u041b\u042c","\u0421\u0418\u0422\u0423\u0410\u0426\u0418\u042f","\u041f\u0420\u0418\u0427\u0418\u041d\u0410"].map(((e,t)=>(0,x.jsx)("div",{className:n()(r.textSelectHeader,m===t&&r.activeTextSelectHeader),onClick:()=>p(t),children:(0,x.jsx)("span",{className:n()(m===t?r.active:r.textSelectHeaderSpan),children:e})},t)))}),(0,x.jsx)(v.A,{update:async()=>{await T({_id:B.id,situation:A,content:S,rootCause:y}).unwrap().then((()=>{})).catch((e=>{console.error("Error:",JSON.stringify(e,null,2))}))},children:(0,x.jsx)(u.A,{value:b,onChange:e=>{O(e)},array:q,array1:M,arrayItem:"strategyNumber",prefix:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u2116",styleSelected:k})})]}),(0,x.jsx)("div",{className:r.main,children:w||z?(0,x.jsx)(o.A,{Error:w||z}):W||E||N?(0,x.jsx)(o.A,{Loading:W||N,Fetching:E}):(0,x.jsx)(x.Fragment,{children:B.id?(0,x.jsxs)(x.Fragment,{children:[0===m&&(0,x.jsx)(x.Fragment,{children:S.map(((e,t)=>(0,x.jsx)(l.A,{value:e,onChange:e=>X(t,e,"content"),readOnly:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"===k},t)))}),1===m&&(0,x.jsx)(x.Fragment,{children:A.map(((e,t)=>(0,x.jsx)(l.A,{value:e,onChange:e=>X(t,e,"situation"),readOnly:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"===k},t)))}),2===m&&(0,x.jsx)(x.Fragment,{children:y.map(((e,t)=>(0,x.jsx)(l.A,{value:e,onChange:e=>X(t,e,"rootCause"),readOnly:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"===k},t)))}),(0,x.jsx)(s.A,{Loading:I,Error:F&&U,Success:L&&U,textSuccess:"\u041a\u0440\u0430\u0442\u043a\u043e\u0441\u0440\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",textError:null!==G&&void 0!==G&&null!==(e=G.data)&&void 0!==e&&null!==(t=e.errors)&&void 0!==t&&null!==(a=t[0])&&void 0!==a&&null!==(c=a.errors)&&void 0!==c&&c[0]?G.data.errors[0].errors[0]:null===G||void 0===G||null===(h=G.data)||void 0===h?void 0:h.message})]}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(d.A,{letters:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e"})})})})]})}}}]);
//# sourceMappingURL=149.3ae33237.chunk.js.map