"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[937],{937:(e,t,i)=>{i.r(t),i.d(t,{default:()=>V});var s=i(5043);const r={dialog:"Policy_dialog__6zi1d",item:"Policy_item__cdUFC",itemName:"Policy_itemName__cZOWr",div:"Policy_div__XwpXK",five:"Policy_five__9sRuK",sixth:"Policy_sixth__zc62C",policySearch:"Policy_policySearch__-pfjC",listUL:"Policy_listUL__8iyXB",listULElement:"Policy_listULElement__wWnZm",policySearchItem:"Policy_policySearchItem__O8oZJ",listULElementNested:"Policy_listULElementNested__IqRxO",listULElementNestedTwo:"Policy_listULElementNestedTwo__0pXeM",listULNested:"Policy_listULNested__IbgxV",policySearchItemNested:"Policy_policySearchItemNested__XfXZ3",policySearchItemNestedNested:"Policy_policySearchItemNestedNested__uShK-",listText:"Policy_listText__0gH6e",textMontserrat:"Policy_textMontserrat__tzVu0",textMontserrat14:"Policy_textMontserrat14__ErxvG",activeText:"Policy_activeText__2lG13",draftText:"Policy_draftText__RHY+M",completedText:"Policy_completedText__JbSyv",headerText:"Policy_headerText__iBZkD",main:"Policy_main__vMNS5"};var l=i(5933);const o=i.p+"static/media/folder.9371c16f5cfa59d1b8e2cff639352637.svg";const a=i.p+"static/media/iconSublist.43b3bf2387f47155182eaf9390745e0d.svg";var c=i(6537),n=i(71);const d=i.p+"static/media/addCircleBlue.be7fbd9213fdc99cda8452bf9f369267.svg";var u=i(7214),m=(i(2874),i(33)),h=i(8750),x=i(6754),p=i(4880),y=i(6177),v=i(7396),N=i(9641),g=i(4938),j=i(6406),_=i(7115),D=i(2372),P=i(6995),M=i(753),f=i(5892),b=i(4978),S=i(4117);b.Ay.use(S.r9).init({resources:{ru:{translation:{"toolbar.undo":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","toolbar.redo":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c","toolbar.bold":"\u0416\u0438\u0440\u043d\u044b\u0439","toolbar.removeBold":"\u0423\u0431\u0440\u0430\u0442\u044c \u0436\u0438\u0440\u043d\u044b\u0439","toolbar.italic":"\u041a\u0443\u0440\u0441\u0438\u0432","toolbar.underline":"\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439","toolbar.bulletedList":"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","toolbar.numberedList":"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","toolbar.checkList":"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","toolbar.image":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","toolbar.table":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443","toolbar.link":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","table.rowMenu":"\u041c\u0435\u043d\u044e \u0441\u0442\u0440\u043e\u043a","table.columnMenu":"\u041c\u0435\u043d\u044e \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432","table.alignRight":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0440\u0430\u0432\u0430","table.alignCenter":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443","table.alignLeft":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0441\u043b\u0435\u0432\u0430","table.insertColumnRight":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043f\u0440\u0430\u0432\u0430","table.insertColumnLeft":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043b\u0435\u0432\u0430","table.deleteColumn":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446","table.deleteRow":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443","table.deleteTable":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443","table.insertRowAbove":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443","table.insertRowBelow":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u043d\u0438\u0437\u0443","uploadImage.dialogTitle":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","uploadImage.addViaUrlInstructionsNoUpload":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u043e URL-\u0430\u0434\u0440\u0435\u0441\u0443:","uploadImage.alt":"\u0422\u0435\u043a\u0441\u0442 \u043a\u043e\u0433\u0434\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043b\u043e\u0441\u044c","uploadImage.title":"\u041f\u043e\u0434\u043f\u0438\u0441\u044c","uploadImage.uploadInstructions":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e \u0441\u0432\u043e\u0435\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:","uploadImage.addViaUrlInstructions":"\u0418\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441 URL-\u0430\u0434\u0440\u0435\u0441\u0430:","imageEditor.deleteImage":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","imageEditor.editImage":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","dialogControls.save":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","dialogControls.cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","createLink.url":"\u0421\u0441\u044b\u043b\u043a\u0430","createLink.title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","linkPreview.open":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c","linkPreview.remove":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","linkPreview.edit":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","linkPreview.copyToClipboard":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"}}},lng:"ru",fallbackLng:"en",interpolation:{escapeValue:!1}});const C=b.Ay,w={wrapper:"Mdxeditor_wrapper__zRwrw",editorContainer:"Mdxeditor_editorContainer__NwU+r","toolbar-custom":"Mdxeditor_toolbar-custom__spgun"};var L=i(9048),I=i(6467),E=i(579);function k(e){let{editorState:t,setEditorState:i,userId:r,readOnly:l}=e;const o=(0,s.useRef)(null),[a]=(0,L.M$)();return(0,E.jsx)("div",{className:w.wrapper,children:(0,E.jsx)("div",{className:w.editorContainer,children:(0,E.jsx)(m.R,{contentEditableClassName:w.par,ref:o,markdown:t,translation:(e,t,i)=>C.t(e,{defaultValue:t,...i}),placeholder:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0442\u0435\u043a\u0441\u0442",readOnly:l,onChange:e=>{o.current&&(o.current.setMarkdown(e),i(e))},plugins:[(0,h.O)(),(0,x.Mi)(),(0,p.Pz)({imageUploadHandler:async e=>{try{var t,i;const s=new FormData;s.append("file",e);const r=await a(s).unwrap(),l=null===(t=r.filePath||(null===(i=r.data)||void 0===i?void 0:i.filePath))||void 0===t?void 0:t.replace(/\\/g,"/");if(!l)throw new Error("filePath \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u043e\u0442\u0432\u0435\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");return console.log("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e:",l),`${I.pc}${l}`}catch(s){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f:",s),Promise.reject(s)}}}),(0,y.c3)(),(0,v.Zq)(),(0,N.F7)({toolbarClassName:w["toolbar-custom"],toolbarContents:()=>(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{style:{marginRight:"20px"},children:(0,E.jsx)(g.l,{})}),(0,E.jsx)("div",{style:{marginRight:"20px"},children:(0,E.jsx)(j.p,{})}),(0,E.jsx)("div",{style:{marginRight:"20px"},children:(0,E.jsx)(_.I,{})}),(0,E.jsx)(D.N,{}),(0,E.jsx)(P.wv,{}),(0,E.jsx)(M._,{}),(0,E.jsx)(P.wv,{}),(0,E.jsx)(f.d,{})]})})]})})})}var U=i(7643),A=i(1268),T=i(2941);const F={modal:"ModalFolder_modal__Sa4pq",modalWindow:"ModalFolder_modalWindow__j68zF",exit:"ModalFolder_exit__LXmmF",header:"ModalFolder_header__g7HPS",search:"ModalFolder_search__sEGjL",item1:"ModalFolder_item1__tKz45",item2:"ModalFolder_item2__d1g5e",modalTableRowIcon:"ModalFolder_modalTableRowIcon__lPum1",tablesContainer:"ModalFolder_tablesContainer__ojPhV",tableWrapper:"ModalFolder_tableWrapper__MFzwk",tableHeader:"ModalFolder_tableHeader__If34g",tableContent:"ModalFolder_tableContent__A35rH",scrollContent:"ModalFolder_scrollContent__1UFUv",row:"ModalFolder_row__oIkE8"};const R=i.p+"static/media/deleteGrey.2e090a4fecb2115c1cee015631954b1e.svg";var $=i(7583),B=i(4530),G=i(917),W=i(9307);function O(e){let{searchArrayDirectives:t,searchArrayInstructions:i,arrayDirectives:s,arrayInstructions:r,inputSearchModalDirectory:l,handleInputChangeModalSearch:o,handleCheckboxChange:a,directoryName:c,setDirectoryName:n,save:d,setOpenModalDeleteDirectory:u,exit:m,buttonDelete:h}=e;return(0,E.jsx)("div",{className:F.modal,children:(0,E.jsxs)("div",{className:F.modalWindow,children:[(0,E.jsx)("img",{src:$.A,alt:"exitModal",onClick:m,className:F.exit}),(0,E.jsxs)("div",{className:F.header,children:[(0,E.jsx)("div",{className:F.item1,children:(0,E.jsx)("input",{type:"search",placeholder:"\u041d\u0430\u0439\u0442\u0438",value:l,onChange:o,className:F.search})}),(0,E.jsxs)("div",{className:F.item2,children:[(0,E.jsx)(G.A,{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",value:c,onChange:n}),(0,E.jsxs)("div",{className:F.modalTableRowIcon,children:[(0,E.jsx)(W.A,{name:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon:B.A,onClick:d}),h&&(0,E.jsx)(W.A,{name:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c",icon:R,onClick:()=>u(!0)})]})]})]}),(0,E.jsxs)("div",{className:F.tablesContainer,children:[(0,E.jsxs)("div",{className:F.tableWrapper,children:[(0,E.jsx)("div",{className:F.tableHeader,children:"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u044b"}),(0,E.jsx)("div",{className:F.tableContent,children:(0,E.jsx)("div",{className:F.scrollContent,children:(()=>{const e=t.length>0?t:s;return null===e||void 0===e?void 0:e.map((e=>(0,E.jsxs)("div",{className:F.row,onClick:()=>a(e.id,"directives"),children:[(0,E.jsx)("input",{type:"checkbox",checked:e.checked,onChange:e=>e.stopPropagation()}),(0,E.jsx)("span",{children:e.policyName})]},e.id)))})()})})]}),(0,E.jsxs)("div",{className:F.tableWrapper,children:[(0,E.jsx)("div",{className:F.tableHeader,children:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438"}),(0,E.jsx)("div",{className:F.tableContent,children:(0,E.jsx)("div",{className:F.scrollContent,children:(()=>{const e=i.length>0?i:r;return null===e||void 0===e?void 0:e.map((e=>(0,E.jsxs)("div",{className:F.row,onClick:()=>a(e.id,"instructions"),children:[(0,E.jsx)("input",{type:"checkbox",checked:e.checked,onChange:e=>e.stopPropagation()}),(0,E.jsx)("span",{children:e.policyName})]},e.id)))})()})})]})]})]})})}var z=i(6378),Y=i(8877),H=i(9432);var J=i(3216);function V(){var e,t,i,m,h,x,p,y,v,N,g,j,_,D,P,M,f,b,S,C,w,L,I,F,R;const{policyId:$}=(0,J.g)();(0,s.useEffect)((()=>{$&&X($)}),[]);const B=(0,s.useRef)(null),[G,W]=(0,s.useState)(!1),[V,X]=(0,s.useState)(null),[Z,K]=(0,s.useState)(null),[q,Q]=(0,s.useState)(null),[ee,te]=(0,s.useState)(null),[ie,se]=(0,s.useState)(""),[re,le]=(0,s.useState)(!1),{reduxSelectedOrganizationId:oe}=(0,Y.RA)(),{isLoadingGetPolicies:ae,isErrorGetPolicies:ce,isFetchingGetPolicies:ne,instructionsActive:de,instructionsDraft:ue,instructionsCompleted:me,directivesActive:he,directivesDraft:xe,directivesCompleted:pe,currentPolicy:ye,isLoadingGetPoliciesId:ve,isFetchingGetPoliciesId:Ne,isErrorGetPoliciesId:ge,postPolicy:je,isLoadingPostPoliciesMutation:_e,isSuccessPostPoliciesMutation:De,isErrorPostPoliciesMutation:Pe,ErrorPostPoliciesMutation:Me,localIsResponsePostPoliciesMutation:fe,updatePolicy:be,isLoadingUpdatePoliciesMutation:Se,isSuccessUpdatePoliciesMutation:Ce,isErrorUpdatePoliciesMutation:we,ErrorUpdatePoliciesMutation:Le,localIsResponseUpdatePoliciesMutation:Ie}=(0,Y.Ri)({policyId:V,organizationId:oe}),{setCurrentDirectoryInstructions:Ee,setCurrentDirectoryDirectives:ke,directoriesSendBD:Ue,currentDirectoryName:Ae,setCurrentDirectoryName:Te,directoryName:Fe,setDirectoryName:Re,currentDirectoryInstructions:$e,currentDirectoryDirectives:Be,inputSearchModalDirectory:Ge,filterArraySearchModalDirectives:We,filterArraySearchModalInstructions:Oe,foldersSort:ze,isLoadingGetPolicyDirectories:Ye,isErrorGetPolicyDirectories:He,isFetchingGetPolicyDirectories:Je,openModalCreateDirectory:Ve,openCreateDirectory:Xe,exitCreateDirectory:Ze,saveFolder:Ke,isLoadingPostPoliciesDirectoriesMutation:qe,isSuccessPostPoliciesDirectoriesMutation:Qe,isErrorPostPoliciesDirectoriesMutation:et,ErrorPostPoliciesDirectoriesMutation:tt,localIsResponsePostPolicyDirectoriesMutation:it,openModalUpdateDirectory:st,updateDirectory:rt,exitUpdateDirectory:lt,saveUpdateFolder:ot,isLoadingUpdatePolicyDirectoriesMutation:at,isSuccessUpdatePolicyDirectoriesMutation:ct,isErrorUpdatePolicyDirectoriesMutation:nt,ErrorUpdateDirectories:dt,localIsResponseUpdatePolicyDirectoriesMutation:ut,openModalDeleteDirectory:mt,setOpenModalDeleteDirectory:ht,saveDeleteFolder:xt,isLoadingDeletePolicyDirectoriesMutation:pt,isSuccessDeletePolicyDirectoriesMutation:yt,isErrorDeletePolicyDirectoriesMutation:vt,ErrorDeleteDirectories:Nt,localIsResponseDeletePolicyDirectoriesMutation:gt,handleInputChangeModalSearch:jt,handleCheckboxChange:_t,handleCheckboxChangeUpdate:Dt}=function(e){let{instructionsActive:t,directivesActive:i}=e;const[r,l]=(0,s.useState)(),[o,a]=(0,s.useState)(),[c,n]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[x,p]=(0,s.useState)(""),[y,v]=(0,s.useState)([]),[N,g]=(0,s.useState)([]),[j,_]=(0,s.useState)([]),[D,P]=(0,s.useState)([]),[M,f]=(0,s.useState)(""),[b,S]=(0,s.useState)([]),[C,w]=(0,s.useState)([]),{folders:L,foldersSort:I,isLoadingGetPolicyDirectories:E,isErrorGetPolicyDirectories:k,isFetchingGetPolicyDirectories:U,deletePolicyDirectories:A,isLoadingDeletePolicyDirectoriesMutation:T,isSuccessDeletePolicyDirectoriesMutation:F,isErrorDeletePolicyDirectoriesMutation:R,ErrorDeleteDirectories:$,localIsResponseDeletePolicyDirectoriesMutation:B,updatePolicyDirectories:G,isLoadingUpdatePolicyDirectoriesMutation:W,isSuccessUpdatePolicyDirectoriesMutation:O,isErrorUpdatePolicyDirectoriesMutation:z,ErrorUpdateDirectories:Y,localIsResponseUpdatePolicyDirectoriesMutation:J,postDirectory:V,isLoadingPostPoliciesDirectoriesMutation:X,isSuccessPostPoliciesDirectoriesMutation:Z,isErrorPostPoliciesDirectoriesMutation:K,ErrorPostPoliciesDirectoriesMutation:q,localIsResponsePostPolicyDirectoriesMutation:Q}=(0,H.Q)(),ee=()=>{u(!1)};return(0,s.useEffect)((()=>{if(""!==M){const e=[...i],s=[...t],r=e.filter((e=>e.policyName.toLowerCase().includes(M.toLowerCase()))),l=s.filter((e=>e.policyName.toLowerCase().includes(M.toLowerCase())));S(r),w(l)}else S([]),w([])}),[M]),(0,s.useEffect)((()=>{!1===d&&(f(""),S([]),w([]))}),[d]),(0,s.useEffect)((()=>{!1===c&&(f(""),S([]),w([]))}),[c]),{setCurrentDirectoryInstructions:_,setCurrentDirectoryDirectives:P,directoriesSendBD:y,currentDirectoryName:r,setCurrentDirectoryName:l,directoryName:x,setDirectoryName:p,currentDirectoryInstructions:j,currentDirectoryDirectives:D,inputSearchModalDirectory:M,filterArraySearchModalDirectives:b,filterArraySearchModalInstructions:C,foldersSort:I,isLoadingGetPolicyDirectories:E,isErrorGetPolicyDirectories:k,isFetchingGetPolicyDirectories:U,openModalCreateDirectory:c,openCreateDirectory:()=>{n(!0)},exitCreateDirectory:()=>{n(!1)},saveFolder:async()=>{await V({directoryName:x,policyToPolicyDirectories:y}).unwrap().then((()=>{p(""),v([]),n(!1)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},isLoadingPostPoliciesDirectoriesMutation:X,isSuccessPostPoliciesDirectoriesMutation:Z,isErrorPostPoliciesDirectoriesMutation:K,ErrorPostPoliciesDirectoriesMutation:q,localIsResponsePostPolicyDirectoriesMutation:Q,openModalUpdateDirectory:d,updateDirectory:e=>{const s=null===L||void 0===L?void 0:L.filter((t=>t.id===e.id));if((null===s||void 0===s?void 0:s.length)>0){var r,o;const{id:e,directoryName:c,policyToPolicyDirectories:n}=s[0],d=n.map((e=>e.policy.id));g(d);const m=t.filter((e=>d.includes(e.id))).map((e=>({id:e.id,policyName:e.policyName,checked:!0}))),h=i.filter((e=>d.includes(e.id))).map((e=>({id:e.id,policyName:e.policyName,checked:!0}))),x=null===j||void 0===j||null===(r=j.map((e=>{const t=null===m||void 0===m?void 0:m.find((t=>e.id===t.id));return{id:e.id,policyName:e.policyName,checked:!!t}})))||void 0===r?void 0:r.sort(((e,t)=>e.checked===t.checked?e.policyName.localeCompare(t.policyName):t.checked-e.checked)),p=null===D||void 0===D||null===(o=D.map((e=>{const t=null===h||void 0===h?void 0:h.find((t=>e.id===t.id));return{id:e.id,policyName:e.policyName,checked:!!t}})))||void 0===o?void 0:o.sort(((e,t)=>e.checked===t.checked?e.policyName.localeCompare(t.policyName):t.checked-e.checked));_(x),P(p),l(c),a(e),u(!0)}},exitUpdateDirectory:ee,saveUpdateFolder:async()=>{await G({policyDirectoryId:o,directoryName:r,policyToPolicyDirectories:N}).unwrap().then((()=>{ee()})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},isLoadingUpdatePolicyDirectoriesMutation:W,isSuccessUpdatePolicyDirectoriesMutation:O,isErrorUpdatePolicyDirectoriesMutation:z,ErrorUpdateDirectories:Y,localIsResponseUpdatePolicyDirectoriesMutation:J,openModalDeleteDirectory:m,setOpenModalDeleteDirectory:h,saveDeleteFolder:async()=>{await A({policyDirectoryId:o}).unwrap().then((()=>{h(!1),u(!1)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},isLoadingDeletePolicyDirectoriesMutation:T,isSuccessDeletePolicyDirectoriesMutation:F,isErrorDeletePolicyDirectoriesMutation:R,ErrorDeleteDirectories:$,localIsResponseDeletePolicyDirectoriesMutation:B,handleInputChangeModalSearch:e=>{f(e.target.value)},handleCheckboxChange:e=>{v((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},handleCheckboxChangeUpdate:(e,t)=>{g((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e])),"directives"===t&&P((t=>t.map((t=>t.id===e?{...t,checked:!t.checked}:t)))),"instructions"===t&&_((t=>t.map((t=>t.id===e?{...t,checked:!t.checked}:t))))}}}({instructionsActive:de,directivesActive:he}),Pt=e=>{X(e)};(0,s.useEffect)((()=>{ye.policyName&&K(ye.policyName),ye.type&&Q(ye.type),ye.state&&te(ye.state),ye.content&&ye.content!==ie&&se(ye.content)}),[ye.id]),(0,s.useEffect)((()=>{if(de.length>0){const e=de.map((e=>({id:e.id,policyName:e.policyName,checked:!1})));Ee(e)}if(he.length>0){const e=he.map((e=>({id:e.id,policyName:e.policyName,checked:!1})));ke(e)}}),[ae,ne]),(0,s.useEffect)((()=>{const e=e=>{B.current&&!B.current.contains(e.target)&&W(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);return(0,E.jsxs)("div",{className:r.dialog,children:[(0,E.jsx)(U.A,{name:"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430",children:(0,E.jsxs)(A.A,{create:async()=>{await je({organizationId:oe}).unwrap().then((e=>{X(e.id)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},update:async()=>{const e={};null!==Z&&ye.policyName!==Z&&(e.policyName=Z),null!==ee&&ye.state!==ee&&(e.state=ee),null!==q&&ye.type!==q&&(e.type=q),null!==ie&&ye.content!==ie&&(e.content=ie),await be({_id:V,...e}).unwrap().then((()=>{})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},children:[(0,E.jsxs)("div",{className:r.item,children:[(0,E.jsx)("div",{className:r.itemName,children:(0,E.jsxs)("span",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438 ",(0,E.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,E.jsxs)("div",{className:r.div,children:[(0,E.jsx)("input",{type:"text",value:Z,onChange:e=>K(e.target.value),title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438",className:`${r.five} ${r.textMontserrat14}`,disabled:re}),(0,E.jsxs)("div",{className:r.sixth,ref:B,children:[(0,E.jsx)("img",{src:l.A,alt:"subbarSearch",onClick:()=>W(!0)}),G&&(0,E.jsxs)("ul",{className:r.policySearch,children:[(0,E.jsxs)("li",{className:r.policySearchItemNested,children:[(0,E.jsxs)("div",{className:r.listUL,children:[(0,E.jsx)("img",{src:o,alt:"folder"}),(0,E.jsx)("div",{className:r.listText,children:"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u044b"}),(0,E.jsx)("img",{src:a,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,E.jsxs)("ul",{className:r.listULElementNested,children:[(0,E.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,E.jsxs)("div",{className:r.listULNested,children:[(0,E.jsx)("img",{src:o,alt:"folder"}),(0,E.jsx)("div",{className:`${r.listText} ${r.activeText}`,children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,E.jsx)("img",{src:a,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,E.jsx)("ul",{className:r.listULElementNestedTwo,children:null===he||void 0===he?void 0:he.map((e=>(0,E.jsx)("li",{onClick:()=>{Pt(e.id),W(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]}),(0,E.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,E.jsxs)("div",{className:r.listULNested,children:[(0,E.jsx)("img",{src:o,alt:"folder"}),(0,E.jsx)("div",{className:`${r.listText} ${r.draftText}`,children:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a\u0438"}),(0,E.jsx)("img",{src:a,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,E.jsx)("ul",{className:r.listULElementNestedTwo,children:null===xe||void 0===xe?void 0:xe.map((e=>(0,E.jsx)("li",{onClick:()=>{Pt(e.id),W(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]}),(0,E.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,E.jsxs)("div",{className:r.listULNested,children:[(0,E.jsx)("img",{src:o,alt:"folder"}),(0,E.jsx)("div",{className:`${r.listText} ${r.completedText}`,children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"}),(0,E.jsx)("img",{src:a,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,E.jsx)("ul",{className:r.listULElementNestedTwo,children:null===pe||void 0===pe?void 0:pe.map((e=>(0,E.jsx)("li",{onClick:()=>{Pt(e.id),le(!0),W(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]})]})]}),(0,E.jsxs)("li",{className:r.policySearchItemNested,children:[(0,E.jsxs)("div",{className:r.listUL,children:[(0,E.jsx)("img",{src:o,alt:"folder"}),(0,E.jsx)("div",{className:r.listText,children:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438"}),(0,E.jsx)("img",{src:a,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,E.jsxs)("ul",{className:r.listULElementNested,children:[(0,E.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,E.jsxs)("div",{className:r.listULNested,children:[(0,E.jsx)("img",{src:o,alt:"folder"}),(0,E.jsx)("div",{className:`${r.listText} ${r.activeText}`,children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,E.jsx)("img",{src:a,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,E.jsx)("ul",{className:r.listULElementNestedTwo,children:null===de||void 0===de?void 0:de.map((e=>(0,E.jsx)("li",{onClick:()=>{Pt(e.id),W(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]}),(0,E.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,E.jsxs)("div",{className:r.listULNested,children:[(0,E.jsx)("img",{src:o,alt:"folder"}),(0,E.jsx)("div",{className:`${r.listText} ${r.draftText}`,children:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a\u0438"}),(0,E.jsx)("img",{src:a,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,E.jsx)("ul",{className:r.listULElementNestedTwo,children:null===ue||void 0===ue?void 0:ue.map((e=>(0,E.jsx)("li",{onClick:()=>{Pt(e.id),W(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]}),(0,E.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,E.jsxs)("div",{className:r.listULNested,children:[(0,E.jsx)("img",{src:o,alt:"folder"}),(0,E.jsx)("div",{className:`${r.listText} ${r.completedText}`,children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"}),(0,E.jsx)("img",{src:a,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,E.jsx)("ul",{className:r.listULElementNestedTwo,children:null===me||void 0===me?void 0:me.map((e=>(0,E.jsx)("li",{onClick:()=>{Pt(e.id),le(!0),W(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]})]})]}),null===ze||void 0===ze?void 0:ze.map((e=>{var t;let i=!1,l=!1;return(0,E.jsxs)("li",{className:r.policySearchItem,children:[(0,E.jsxs)("div",{className:r.listUL,onClick:()=>rt(e),children:[(0,E.jsx)("img",{src:o,alt:"folder"}),(0,E.jsx)("div",{className:r.listText,children:e.directoryName}),(0,E.jsx)("img",{src:a,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,E.jsx)("ul",{className:r.listULElement,children:null===(t=e.policyToPolicyDirectories)||void 0===t?void 0:t.map((e=>{let t=null;"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f"===e.policy.type&&!i&&(i=!0,t=(0,E.jsx)("li",{className:`${r.headerText}`,children:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438"},"instruction-header"));let o=null;return"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0430"===e.policy.type&&!l&&(l=!0,o=(0,E.jsx)("li",{className:`${r.headerText}`,children:"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u044b"},"directive-header")),(0,E.jsxs)(s.Fragment,{children:[o,t,(0,E.jsx)("li",{onClick:()=>{Pt(e.policy.id),W(!1)},className:r.textMontserrat,children:e.policy.policyName})]},e.policy.id)}))})]},e.id)})),(0,E.jsx)("li",{className:r.policySearchItem,children:(0,E.jsxs)("div",{className:r.listUL,onClick:Xe,children:[(0,E.jsx)("img",{src:d,alt:"addCircleBlue"}),(0,E.jsx)("div",{className:r.listText,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443"})]})})]})]})]})]}),ye.id&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(T.A,{name:"\u0422\u0438\u043f",value:q,onChange:Q,array:[{id:"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0430",value:"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0430"},{id:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f",value:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f"}],arrayItem:"value",disabledPole:re}),(0,E.jsx)(T.A,{name:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:ee,onChange:te,array:[{id:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a",value:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"},{id:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439",value:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"},{id:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d",value:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d"}],arrayItem:"value",disabledPole:re})]})]})}),(0,E.jsx)("div",{className:r.main,children:Pe||ce&&He?(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(n.A,{Error:ce||He||Pe})}):(0,E.jsx)(E.Fragment,{children:ge?(0,E.jsx)(n.A,{Error:ge}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(n.A,{Loading:ae,Fetching:ne}),(0,E.jsx)(n.A,{Loading:Ye,Fetching:Je}),Ne||ve?(0,E.jsx)(n.A,{Loading:ve,Fetching:Ne}):(0,E.jsxs)(E.Fragment,{children:[ye.content?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(k,{editorState:ye.content,setEditorState:se,readOnly:re},ye.id),(0,E.jsx)(c.A,{Loading:_e,Error:Pe&&fe,Success:De&&fe,textSuccess:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430.",textError:null!==Me&&void 0!==Me&&null!==(e=Me.data)&&void 0!==e&&null!==(t=e.errors)&&void 0!==t&&null!==(i=t[0])&&void 0!==i&&null!==(m=i.errors)&&void 0!==m&&m[0]?Me.data.errors[0].errors[0]:null===Me||void 0===Me||null===(h=Me.data)||void 0===h?void 0:h.message}),(0,E.jsx)(c.A,{Loading:Se,Error:we&&Ie,Success:Ce&&Ie,textSuccess:`\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 ${Z} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430`,textError:null!==Le&&void 0!==Le&&null!==(x=Le.data)&&void 0!==x&&null!==(p=x.errors)&&void 0!==p&&null!==(y=p[0])&&void 0!==y&&null!==(v=y.errors)&&void 0!==v&&v[0]?Le.data.errors[0].errors[0]:null===Le||void 0===Le||null===(N=Le.data)||void 0===N?void 0:N.message})]}):(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(u.A,{letters:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443"})}),(0,E.jsx)(c.A,{Loading:qe,Error:et&&it,Success:Qe&&it,textSuccess:`\u041f\u0430\u043f\u043a\u0430 ${Fe} \u0441\u043e\u0437\u0434\u0430\u043d\u0430`,textError:null!==tt&&void 0!==tt&&null!==(g=tt.data)&&void 0!==g&&null!==(j=g.errors)&&void 0!==j&&null!==(_=j[0])&&void 0!==_&&null!==(D=_.errors)&&void 0!==D&&D[0]?tt.data.errors[0].errors[0]:null===tt||void 0===tt||null===(P=tt.data)||void 0===P?void 0:P.message}),(0,E.jsx)(c.A,{Loading:at,Error:nt&&ut,Success:ct&&ut,textSuccess:`\u041f\u0430\u043f\u043a\u0430 ${Ae} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430`,textError:null!==dt&&void 0!==dt&&null!==(M=dt.data)&&void 0!==M&&null!==(f=M.errors)&&void 0!==f&&null!==(b=f[0])&&void 0!==b&&null!==(S=b.errors)&&void 0!==S&&S[0]?dt.data.errors[0].errors[0]:null===dt||void 0===dt||null===(C=dt.data)||void 0===C?void 0:C.message}),(0,E.jsx)(c.A,{Loading:pt,Error:vt&&gt,Success:yt&&gt,textSuccess:`\u041f\u0430\u043f\u043a\u0430 ${Ae} \u0443\u0434\u0430\u043b\u0435\u043d\u0430`,textError:null!==Nt&&void 0!==Nt&&null!==(w=Nt.data)&&void 0!==w&&null!==(L=w.errors)&&void 0!==L&&null!==(I=L[0])&&void 0!==I&&null!==(F=I.errors)&&void 0!==F&&F[0]?Nt.data.errors[0].errors[0]:null===Nt||void 0===Nt||null===(R=Nt.data)||void 0===R?void 0:R.message}),Ve&&(0,E.jsx)(O,{searchArrayDirectives:We,searchArrayInstructions:Oe,arrayDirectives:he,arrayInstructions:de,handleInputChangeModalSearch:jt,inputSearchModalDirectory:Ge,handleCheckboxChange:_t,directoryName:Fe,setDirectoryName:Re,save:Ke,setOpenModalDeleteDirectory:ht,exit:Ze}),st&&(0,E.jsx)(O,{searchArrayDirectives:We,searchArrayInstructions:Oe,arrayDirectives:Be,arrayInstructions:$e,handleInputChangeModalSearch:jt,inputSearchModalDirectory:Ge,handleCheckboxChange:Dt,directoryName:Ae,setDirectoryName:Te,save:ot,setOpenModalDeleteDirectory:ht,exit:lt,buttonDelete:!0}),mt&&(0,E.jsx)(z.A,{text:` \u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443 ${Ae}`,close:ht,btnYes:()=>{xt()},btnNo:()=>{ht(!1)}})]})]})})})]})}},1268:(e,t,i)=>{i.d(t,{A:()=>d});i(5043);const s={editText:"BottomHeaders_editText__BUuuG"},r={wrapper:"ButtonAction_wrapper__S7EYo"};var l=i(3732),o=i(4530),a=i(9307),c=i(579);function n(e){let{create:t,update:i}=e;return(0,c.jsxs)("div",{className:r.wrapper,children:[t&&(0,c.jsx)(a.A,{name:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c",icon:l.A,onClick:t}),i&&(0,c.jsx)(a.A,{name:"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:o.A,onClick:i})]})}function d(e){let{children:t,create:i,update:r}=e;return(0,c.jsxs)("div",{className:s.editText,children:[t,(0,c.jsx)(n,{create:i,update:r})]})}},5933:(e,t,i)=>{i.d(t,{A:()=>s});i(5043);const s=i.p+"static/media/subbarSearch.228587dc2f4983eef0e3a45c32fd687a.svg"},6378:(e,t,i)=>{i.d(t,{A:()=>o});i(5043);const s={modalDelete:"ModalWindow_modalDelete__ukhRp",modalDeleteElement:"ModalWindow_modalDeleteElement__6zWsf",modalRow1:"ModalWindow_modalRow1__pu+1f",modalRow2:"ModalWindow_modalRow2__KBA6s",btnYes:"ModalWindow_btnYes__g3eEP",btnNo:"ModalWindow_btnNo__0IBST",textBtnYes:"ModalWindow_textBtnYes__bEP3u",textBtnNo:"ModalWindow_textBtnNo__yJDBD",text:"ModalWindow_text__YqzfM",exitImage:"ModalWindow_exitImage__Bc2Og"};var r=i(7583),l=i(579);function o(e){let{text:t,close:i,btnYes:o,btnNo:a,exitBtn:c}=e;return(0,l.jsx)("div",{className:s.modalDelete,children:(0,l.jsxs)("div",{className:s.modalDeleteElement,children:[(0,l.jsx)("img",{src:r.A,alt:"exit",className:s.exitImage,onClick:()=>i(!1)}),(0,l.jsx)("div",{className:s.modalRow1,children:(0,l.jsx)("span",{className:s.text,children:t})}),!c&&(0,l.jsxs)("div",{className:s.modalRow2,children:[(0,l.jsx)("button",{className:`${s.btnYes} ${s.textBtnYes}`,onClick:o,children:"\u0414\u0430"}),(0,l.jsx)("button",{className:`${s.btnNo} ${s.textBtnNo}`,onClick:a,children:"\u041d\u0435\u0442"})]})]})})}},7214:(e,t,i)=>{i.d(t,{A:()=>l});i(5043);const s={wave:"WaveLetters_wave__2Gves"};var r=i(579);function l(e){let{letters:t}=e;const i=t.split("");return(0,r.jsx)("div",{className:s.wave,children:null===i||void 0===i?void 0:i.map(((e,t)=>(0,r.jsx)("span",{style:{"--i":t+1},children:" "===e?"\xa0\xa0":e},t)))})}}}]);
//# sourceMappingURL=937.4cec40f4.chunk.js.map