"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[74],{5074:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});s(5043);var r=s(2638),a=s(4825),o=s(3361),i=s(8916),d=s(579);const n=(0,o.rU)((e=>{let{css:t,token:s}=e;const{antCls:r}=s;return{customTable:t`
      ${r}-table {
        ${r}-table-container {
          ${r}-table-body,
          ${r}-table-content {
            scrollbar-width: thin;
            scrollbar-color: #eaeaea transparent;
            scrollbar-gutter: stable;
          }
        }
      }
    `}}));function l(e){let{expandedRowKeys:t,setExpandedRowKeys:s,form:o,targetStateOnProduct:l,selectedProjectId:c,disabledTable:p,tables:j,setTables:u,isLoadingGetProjectId:g,isFetchingGetProjectId:P,targets:b,posts:m,setDescriptionProduct:h,descriptionProduct:x}=e;const{styles:y}=n(),{groupColumns:I,dataWithGroups:v,expandableConfig:w}=(0,i.A)({expandedRowKeys:t,setExpandedRowKeys:s,form:o,targetStateOnProduct:l,selectedProjectId:c,disabledTable:p,tables:j,setTables:u,isLoadingGetProjectId:g,isFetchingGetProjectId:P,targets:b,posts:m,setDescriptionProduct:h,descriptionProduct:x,stylesColumnSelect:{style:{width:"100%"},placement:"topLeft"},stylesColumnDate:{style:{width:"100%"}}});return(0,d.jsx)(r.A,{form:o,disabled:p,children:(0,d.jsx)(a.A,{bordered:!0,className:y.customTable,loading:g||P,columns:I,dataSource:v,rowKey:"key",pagination:!1,scroll:{x:"max-content",y:"calc(100vh - 320px)"},style:{width:"100%"},expandable:w})})}var c=s(8677),p=s(6597),j=s(2524),u=s(4434),g=s(898),P=s(5206),b=s(8738),m=s(8057);function h(e){var t;let{currentProject:s,isLoadingGetProjectId:a,open:o,setOpen:i,disabled:n,programId:l}=e;const{form:h,isSaving:x,setIsSaving:y,strategies:I,isLoadingGetNew:v,currentProgram:w,isLoadingGetProgramId:A,isErrorGetProgramId:G,isFetchingGetProgramId:C,updateProject:f,isLoadingUpdateProjectMutation:S,isSuccessUpdateProjectMutation:T,isErrorUpdateProjectMutation:L,ErrorUpdateProjectMutation:E,localIsResponseUpdateProjectMutation:M,handlePostValuesChange:R,handleSave:U,handleReset:k}=(0,m.A)({currentProject:s,isLoadingGetProjectId:a,open:o,setOpen:i,disabled:n,programId:l});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c.A,{closable:!0,destroyOnClose2:!0,title:(0,d.jsx)("div",{style:{whiteSpace:"nowrap"},children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),placement:"right",open:o,loading:a||v,onClose:()=>{i(!1),k()},width:b.Fr?300:350,children:(0,d.jsxs)(p.A,{vertical:!0,style:{height:"100%"},children:[(0,d.jsxs)(r.A,{disabled:n,form:h,onValuesChange:R,layout:"vertical",style:{flexGrow:1},children:[(0,d.jsx)(r.A.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",name:"projectName",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"}],children:(0,d.jsx)(j.A,{})}),l?(0,d.jsx)(r.A.Item,{label:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",children:(0,d.jsx)(j.A,{disabled:!0,value:null===w||void 0===w?void 0:w.projectName})}):null,l?(0,d.jsx)(r.A.Item,{label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",children:(0,d.jsx)(u.A,{disabled:!0,value:null===w||void 0===w||null===(t=w.strategy)||void 0===t?void 0:t.id,options:I.map((e=>({label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f "+e.strategyNumber,value:e.id})))})}):(0,d.jsx)(r.A.Item,{label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",name:"strategyId",children:(0,d.jsx)(u.A,{allowClear:!0,showSearch:!0,optionFilterProp:"label",filterOption:(e,t)=>null===t||void 0===t?void 0:t.label.toLowerCase().includes(e.toLowerCase()),options:I.map((e=>({label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f "+e.strategyNumber,value:e.id})))})})]}),(0,d.jsxs)(g.A,{style:{marginTop:"auto"},children:[(0,d.jsx)(P.Ay,{type:"primary",onClick:U,loading:x,disabled:n,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,d.jsx)(P.Ay,{onClick:k,disabled:n,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})})})}var x=s(5337),y=s(8143),I=s(8918),v=s(6651),w=(s(3536),s(8824));function A(e){let{activeTabTypes:t,disabledTable:s}=e;const{onChangeTab:r,addProject:a,updateSingleProject:o,selectedProjectId:i,setSelectedProjectId:n,descriptionProduct:c,setDescriptionProduct:j,form:u,isSaving:g,setIsSaving:b,tables:m,setTables:A,expandedRowKeys:G,setExpandedRowKeys:C,items:f,setItems:S,activeTab:T,setActiveTab:L,openDrawer:E,setOpenDrawer:M,projects:R,archivesProjects:U,projectsWithProgram:k,archivesProjectsWithProgram:K,isErrorGetProject:O,isLoadingGetProject:F,currentProject:N,targets:D,isLoadingGetProjectId:W,isErrorGetProjectId:$,isFetchingGetProjectId:z,posts:V,programs:_,isLoadingGetNew:q,isErrorGetNew:B,reduxSelectedOrganizationId:H,createProject:J,isLoadingProjectMutation:Q,updateProject:X,isLoadingUpdateProjectMutation:Y,isSuccessUpdateProjectMutation:Z,isErrorUpdateProjectMutation:ee,ErrorUpdateProjectMutation:te,localIsResponseUpdateProjectMutation:se}=(0,w.A)({activeTabTypes:t});return(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsxs)(p.A,{justify:"space-between",align:"center",style:{width:"100%"},children:[(0,d.jsx)(I.A,{style:{width:"calc(100% - 40px)"},type:"projects"===t?"editable-card":"card",activeKey:T,items:f,onChange:r,addIcon:(0,d.jsx)(v.A,{placement:"bottom",title:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442",children:(0,d.jsx)(P.Ay,{onClick:a,size:"small",type:"text",icon:(0,d.jsx)(x.A,{})})})}),(0,d.jsx)(v.A,{placement:"bottom",title:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:(0,d.jsx)(P.Ay,{type:"primary",style:{width:"40px"},icon:(0,d.jsx)(y.A,{}),onClick:o,loading:g})})]}),i&&(0,d.jsx)(h,{currentProject:N,isLoadingGetProjectId:W,open:E,setOpen:M,disabled:"archivesProjects"===t||"archivesProjectsWithProgram"===t,programId:N.programId}),(0,d.jsx)(l,{expandedRowKeys:G,setExpandedRowKeys:C,form:u,selectedProjectId:i,disabledTable:s,tables:m,setTables:A,isLoadingGetProjectId:W,isFetchingGetProjectId:z,targets:D,targetStateOnProduct:D.find((e=>"\u041f\u0440\u043e\u0434\u0443\u043a\u0442"===e.type&&"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f"===e.targetState)),posts:V,setDescriptionProduct:j,descriptionProduct:c})]})}}}]);
//# sourceMappingURL=74.eb0be7e1.chunk.js.map